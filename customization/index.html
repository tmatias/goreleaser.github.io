
<!DOCTYPE HTML>

<html>
	<head>
		<title>Customization &middot; GoReleaser</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		
		<meta http-equiv="content-language" content="en-us" />
		<meta name="generator" content="Hugo 0.48" />
		<link rel="stylesheet" href="https://goreleaser.com/css/index.css">
		<link rel="apple-touch-icon" href="https://goreleaser.com/apple-touch-icon.png">
		<link rel="shortcut icon" href="https://goreleaser.com/favicon.ico" type="image/x-icon">
	</head>

	<body>
		<div class="Wrapper">
			<div class="Container">
				<div class="Header">
  <a href="https://goreleaser.com/">
	<div class="Title center">
		
			<img alt="GoReleaser Logo" src="https://avatars2.githubusercontent.com/u/24697112?v=3&amp;s=140" height="140" />
		
		<span class="text">GoReleaser</span>
		<span class="subtext"></span>
	</div>
  </a>
</div>

				<div class="Content-wrapper">
					<div class="Sidebar">
	<div class="Menu">
		<div class="item">
			<a href="https://goreleaser.com/">Home</a>
		</div>
		
			
				<div class="item">
					<a href="https://goreleaser.com/introduction/">Introduction</a>
				</div>
			
		
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/quick-start/">Quick Start</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/semver/">Semantic Versioning</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/environment/">Environment</a>
				</div>
			
		
			
		
			
		
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/customization/">Customization</a>
				</div>
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/ci/">Continuous Integration</a>
				</div>
			
		
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/deprecations/">Deprecation notices</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/sponsors/">Sponsors</a>
				</div>
			
		
			
				<div class="item">
					<a href="https://goreleaser.com/links/">Links</a>
				</div>
			
		
			
		
			
		
			
		
	</div>
</div>

					<div class="Content">
						
	<h1>Customization</h1>

	<p>GoReleaser provides multiple customizations via the <code>.goreleaser.yml</code> file.</p>

<p>You can generate it by running <code>goreleaser init</code> or start from scratch.
The defaults are sensible and fit for most projects.</p>


	<h2>Table of Contents:</h2>
	<ul class="Menu" style="padding: 0px; position: inherit; margin: 15px 0 0px 20px;">
		
			<li class="item" style="padding: 0px">
				<a href="#Project%20Name">Project Name</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Global%20Hooks">Global Hooks</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Name%20Templates">Name Templates</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Builds">Builds</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Archive">Archive</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Checksum">Checksum</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Signing">Signing</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Snapshots">Snapshots</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#NFPM">NFPM</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Snapcraft">Snapcraft</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Homebrew">Homebrew</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Scoop">Scoop</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Release">Release</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#S3">S3</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Artifactory">Artifactory</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#HTTP%20Put">HTTP Put</a>
			</li>
		
			<li class="item" style="padding: 0px">
				<a href="#Docker">Docker</a>
			</li>
		
	</ul>

	
		<div class="Page" id="Project Name">
			<h1><a href="https://goreleaser.com/project/">Project Name</a></h1>
			<p>The project name is used in the name of the Brew formula, archives, etc.
If none is given, it will be inferred from the name of the Git project.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># .goreleaser.yml</span>
project_name: myproject</code></pre></div>
		</div>
	
		<div class="Page" id="Global Hooks">
			<h1><a href="https://goreleaser.com/hooks/">Global Hooks</a></h1>
			<p>Some builds may need pre-build steps before building, e.g. <code>go generate</code>.
The <code>before</code> section allows for global hooks which will be executed before
the build is started.</p>

<p>The configuration is very simple, here is a complete example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
before:
  hooks:
  - make clean
  - go generate ./...</code></pre></div>
<p>If any of the hooks fails the build process is aborted.</p>

<p>It is important to note that you can&rsquo;t have &ldquo;complex&rdquo; commands, like
<code>bash -c &quot;echo foo bar&quot;</code> or <code>foo | bar</code> or anything like that. If you need
to do things that are more complex than just calling a command with some
attributes, wrap it in a shell script or into your <code>Makefile</code>.</p>

		</div>
	
		<div class="Page" id="Name Templates">
			<h1><a href="https://goreleaser.com/templates/">Name Templates</a></h1>
			<p>Several fields in GoReleaser&rsquo;s config file support templating.</p>

<p>Those fields are often suffixed with <code>_template</code>, but sometimes they may not
be. The documentation of each section should explicit in which fields
templating is available.</p>

<p>On fields that support templating, this fields are always available:</p>

<table>
<thead>
<tr>
<th align="center">Key</th>
<th align="center">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><code>.ProjectName</code></td>
<td align="center">the project name</td>
</tr>

<tr>
<td align="center"><code>.Version</code></td>
<td align="center">the version being released (<code>v</code> prefix stripped)</td>
</tr>

<tr>
<td align="center"><code>.Tag</code></td>
<td align="center">the current git tag</td>
</tr>

<tr>
<td align="center"><code>.Commit</code></td>
<td align="center">the git commit hash</td>
</tr>

<tr>
<td align="center"><code>.Major</code></td>
<td align="center">the major part of the version</td>
</tr>

<tr>
<td align="center"><code>.Minor</code></td>
<td align="center">the minor part of the version</td>
</tr>

<tr>
<td align="center"><code>.Patch</code></td>
<td align="center">the patch part of the version</td>
</tr>

<tr>
<td align="center"><code>.Env</code></td>
<td align="center">a map with system&rsquo;s environment variables</td>
</tr>

<tr>
<td align="center"><code>.Date</code></td>
<td align="center">current UTC date in RFC3339 format</td>
</tr>

<tr>
<td align="center"><code>.Timestamp</code></td>
<td align="center">current UTC time in Unix format</td>
</tr>
</tbody>
</table>

<p>On fields that are related to a single artifact (e.g., the binary name), you
may have some extra fields:</p>

<table>
<thead>
<tr>
<th align="center">Key</th>
<th align="center">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><code>.Os</code></td>
<td align="center"><code>GOOS</code> (usually allow replacements)</td>
</tr>

<tr>
<td align="center"><code>.Arch</code></td>
<td align="center"><code>GOARCH</code> (usually allow replacements)</td>
</tr>

<tr>
<td align="center"><code>.Arm</code></td>
<td align="center"><code>GOARM</code> (usually allow replacements)</td>
</tr>

<tr>
<td align="center"><code>.Binary</code></td>
<td align="center">Binary name</td>
</tr>

<tr>
<td align="center"><code>.ArtifactName</code></td>
<td align="center">Archive name</td>
</tr>
</tbody>
</table>

<p>On all fields, you have these available functions:</p>

<table>
<thead>
<tr>
<th align="center">Usage</th>
<th align="center">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><code>time &quot;01/02/2006&quot;</code></td>
<td align="center">current UTC time in the specified format</td>
</tr>
</tbody>
</table>

<p>With all those fields, you may be able to compose the name of your artifacts
pretty much the way you want:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">example_template: <span style="color:#f1fa8c">&#39;{{ .ProjectName }}_{{ .Env.USER }}_{{ time &#34;2006&#34; }}&#39;</span></code></pre></div>
<p>For example, if you want to add the go version to some artifact:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">foo_template: <span style="color:#f1fa8c">&#39;foo_{{ .Env.GOVERSION }}&#39;</span></code></pre></div>
<p>And then you can run:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">GOVERSION_NR=$(go version | awk &#39;{print $3;}&#39;) goreleaser</code></pre></div>
<blockquote>
<p>Note that those are hypothetical examples and the fields <code>foo_template</code> and
<code>example_template</code> are not valid GoReleaser configurations.</p>
</blockquote>

		</div>
	
		<div class="Page" id="Builds">
			<h1><a href="https://goreleaser.com/build/">Builds</a></h1>
			

<p>Builds can be customized in multiple ways.
You can specify for which <code>GOOS</code>, <code>GOARCH</code> and <code>GOARM</code> binaries are built
(goreleaser will generate a matrix of all combinations), and you can changed
the name of the binary, flags, environment variables, hooks and etc.</p>

<p>Here is a commented <code>builds</code> section with all fields specified:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
builds:
  <span style="color:#6272a4"># You can have multiple builds defined as a yaml list</span>
  -
    <span style="color:#6272a4"># Path to main.go file or main package.</span>
    <span style="color:#6272a4"># Default is `.`.</span>
    main: ./cmd/main.go

    <span style="color:#6272a4"># Name template for the binary final name.</span>
    <span style="color:#6272a4"># Default is the name of the project directory.</span>
    binary: program

    <span style="color:#6272a4"># Set flags for custom build tags.</span>
    <span style="color:#6272a4"># Default is empty.</span>
    flags:
      - -tags
      - dev

    <span style="color:#6272a4"># Custom asmflags templates.</span>
    <span style="color:#6272a4"># Default is empty.</span>
    asmflags:
      - -D mysymbol
      - all=-trimpath={{.Env.GOPATH}}

    <span style="color:#6272a4"># Custom gcflags templates.</span>
    <span style="color:#6272a4"># Default is empty.</span>
    gcflags:
      - all=-trimpath={{.Env.GOPATH}}
      - ./dontoptimizeme=-N

    <span style="color:#6272a4"># Custom ldflags templates.</span>
    <span style="color:#6272a4"># Default is `-s -w -X main.version={{.Version}} -X main.commit={{.Commit}} -X main.date={{.Date}}`.</span>
    ldflags:
     - -s -w -X main.build={{.Version}}
     - ./usemsan=-msan

    <span style="color:#6272a4"># Custom environment variables to be set during the builds.</span>
    <span style="color:#6272a4"># Default is empty.</span>
    env:
      - CGO_ENABLED=<span style="color:#bd93f9">0</span>

    <span style="color:#6272a4"># GOOS list to build for.</span>
    <span style="color:#6272a4"># For more info refer to: https://golang.org/doc/install/source#environment</span>
    <span style="color:#6272a4"># Defaults are darwin and linux.</span>
    goos:
      - freebsd
      - windows

    <span style="color:#6272a4"># GOARCH to build for.</span>
    <span style="color:#6272a4"># For more info refer to: https://golang.org/doc/install/source#environment</span>
    <span style="color:#6272a4"># Defaults are 386 and amd64.</span>
    goarch:
      - amd64
      - arm
      - arm64

    <span style="color:#6272a4"># GOARM to build for when GOARCH is arm.</span>
    <span style="color:#6272a4"># For more info refer to: https://golang.org/doc/install/source#environment</span>
    <span style="color:#6272a4"># Default is only 6.</span>
    goarm:
      - <span style="color:#bd93f9">6</span>
      - <span style="color:#bd93f9">7</span>

    <span style="color:#6272a4"># List of combinations of GOOS + GOARCH + GOARM to ignore.</span>
    <span style="color:#6272a4"># Default is empty.</span>
    ignore:
      - goos: darwin
        goarch: <span style="color:#bd93f9">386</span>
      - goos: linux
        goarch: arm
        goarm: <span style="color:#bd93f9">7</span>

    <span style="color:#6272a4"># Hooks can be used to customize the final binary,</span>
    <span style="color:#6272a4"># for example, to run generators.</span>
    <span style="color:#6272a4"># Default is both hooks empty.</span>
    hooks:
      pre: rice embed-go
      post: ./script.sh</code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

<h2 id="passing-environment-variables-to-ldflags">Passing environment variables to ldflags</h2>

<p>You can do that by using <code>{{ .Env.VARIABLE_NAME }}</code> in the template, for
example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">builds:
  - ldflags:
   - -s -w -X <span style="color:#f1fa8c">&#34;main.goversion={{.Env.GOVERSION}}&#34;</span></code></pre></div>
<p>Then you can run:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">GOVERSION=$(go version) goreleaser</code></pre></div>
		</div>
	
		<div class="Page" id="Archive">
			<h1><a href="https://goreleaser.com/archive/">Archive</a></h1>
			

<p>The binaries built will be archived together with the <code>README</code> and <code>LICENSE</code> files into a
<code>tar.gz</code> file. In the <code>archive</code> section you can customize the archive name,
additional files, and format.</p>

<p>Here is a commented <code>archive</code> section with all fields specified:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
archive:
  <span style="color:#6272a4"># Archive name template.</span>
  <span style="color:#6272a4"># Defaults:</span>
  <span style="color:#6272a4"># - if format is `tar.gz` or `zip`:</span>
  <span style="color:#6272a4">#   - `{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}`</span>
  <span style="color:#6272a4"># - if format is `binary`:</span>
  <span style="color:#6272a4">#   - `{{ .Binary }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}`</span>
  name_template: <span style="color:#f1fa8c">&#34;{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}&#34;</span>

  <span style="color:#6272a4"># Replacements for GOOS and GOARCH in the archive name.</span>
  <span style="color:#6272a4"># Keys should be valid GOOSs or GOARCHs.</span>
  <span style="color:#6272a4"># Values are the respective replacements.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  replacements:
    amd64: <span style="color:#bd93f9">64</span>-bit
    <span style="color:#bd93f9">386</span>: <span style="color:#bd93f9">32</span>-bit
    darwin: macOS
    linux: Tux

  <span style="color:#6272a4"># Set to true, if you want all files in the archive to be in a single directory.</span>
  <span style="color:#6272a4"># If set to true and you extract the archive &#39;goreleaser_Linux_arm64.tar.gz&#39;,</span>
  <span style="color:#6272a4"># you get a folder &#39;goreleaser_Linux_arm64&#39;.</span>
  <span style="color:#6272a4"># If set to false, all files are extracted separately.</span>
  <span style="color:#6272a4"># Default is false.</span>
  wrap_in_directory: <span style="color:#ff79c6">true</span>

  <span style="color:#6272a4"># Archive format. Valid options are `tar.gz`, `zip` and `binary`.</span>
  <span style="color:#6272a4"># If format is `binary`, no archives are created and the binaries are instead uploaded directly.</span>
  <span style="color:#6272a4"># In that case name_template and the below specified files are ignored.</span>
  <span style="color:#6272a4"># Default is `tar.gz`.</span>
  format: zip

  <span style="color:#6272a4"># Can be used to change the archive formats for specific GOOSs.</span>
  <span style="color:#6272a4"># Most common use case is to archive as zip on Windows.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  format_overrides:
    - goos: windows
      format: zip

  <span style="color:#6272a4"># Additional files/globs you want to add to the archive.</span>
  <span style="color:#6272a4"># Defaults are any files matching `LICENCE*`, `LICENSE*`,</span>
  <span style="color:#6272a4"># `README*` and `CHANGELOG*` (case-insensitive).</span>
  files:
    - LICENSE.txt
    - README.md
    - CHANGELOG.md
    - docs/*
    - design/<span style="color:#ff79c6">*.png</span>
    - templates/<span style="color:#ff79c6">**/*</span></code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

<p>You can add entire folders, its subfolders and files by using the glob notation,
for example: <code>myfolder/**/*</code>.</p>

<h2 id="packaging-only-the-binaries">Packaging only the binaries</h2>

<p>Since GoReleaser will always add the <code>README</code> and <code>LICENSE</code> files to the
archive if the file list is empty, you&rsquo;ll need to provide a filled <code>files</code>
on the archive section.</p>

<p>A working hack is to use something like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># goreleaser.yml</span>
archive:
  files:
  - none*</code></pre></div>
<p>This would add all files matching the glob <code>none*</code>, provide that you don&rsquo;t
have any files matching that glob, only the binary will be added to the
archive.</p>

<p>For more information, check <a href="https://github.com/goreleaser/goreleaser/issues/602">#602</a></p>

		</div>
	
		<div class="Page" id="Checksum">
			<h1><a href="https://goreleaser.com/checksum/">Checksum</a></h1>
			<p>GoReleaser generates a <code>project_1.0.0_checksums.txt</code> file and uploads it with the
release, so your users can validate if the downloaded files are correct.</p>

<p>The <code>checksum</code> section allows customizations of the filename:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
checksum:
  <span style="color:#6272a4"># You can change the name of the checksums file.</span>
  <span style="color:#6272a4"># Default is `{{ .ProjectName }}_{{ .Version }}_checksums.txt`.</span>
  name_template: <span style="color:#f1fa8c">&#34;{{ .ProjectName }}_checksums.txt&#34;</span></code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

		</div>
	
		<div class="Page" id="Signing">
			<h1><a href="https://goreleaser.com/sign/">Signing</a></h1>
			<p>GoReleaser can sign some or all of the generated artifacts. Signing ensures
that the artifacts have been generated by yourself and your users can verify
that by comparing the generated signature with your public signing key.</p>

<p>Signing works in combination with checksum files and it is generally sufficient
to sign the checksum files only.</p>

<p>The default is configured to create a detached signature for the checksum files
with <a href="https://www.gnupg.org/">GnuPG</a> and your default key. To enable signing
just add</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># goreleaser.yml</span>
sign:
   artifacts: checksum</code></pre></div>
<p>To customize the signing pipeline you can use the following options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
sign:
  <span style="color:#6272a4"># name of the signature file.</span>
  <span style="color:#6272a4"># &#39;${artifact}&#39; is the path to the artifact that should be signed.</span>
  <span style="color:#6272a4">#</span>
  <span style="color:#6272a4"># signature: &#34;${artifact}.sig&#34;</span>

  <span style="color:#6272a4"># path to the signature command</span>
  <span style="color:#6272a4">#</span>
  <span style="color:#6272a4"># cmd: gpg</span>

  <span style="color:#6272a4"># command line arguments for the command</span>
  <span style="color:#6272a4">#</span>
  <span style="color:#6272a4"># to sign with a specific key use</span>
  <span style="color:#6272a4"># args: [&#34;-u&#34;, &#34;&lt;key id, fingerprint, email, ...&gt;&#34;, &#34;--output&#34;, &#34;${signature}&#34;, &#34;--detach-sign&#34;, &#34;${artifact}&#34;]</span>
  <span style="color:#6272a4">#</span>
  <span style="color:#6272a4"># args: [&#34;--output&#34;, &#34;${signature}&#34;, &#34;--detach-sign&#34;, &#34;${artifact}&#34;]</span>


  <span style="color:#6272a4"># which artifacts to sign</span>
  <span style="color:#6272a4">#</span>
  <span style="color:#6272a4">#   checksum: only checksum file(s)</span>
  <span style="color:#6272a4">#   all:      all artifacts</span>
  <span style="color:#6272a4">#   none:     no signing</span>
  <span style="color:#6272a4">#</span>
  <span style="color:#6272a4"># artifacts: none</span></code></pre></div>
		</div>
	
		<div class="Page" id="Snapshots">
			<h1><a href="https://goreleaser.com/snapshots/">Snapshots</a></h1>
			<p>Sometimes we want to generate a full build of our project,
but neither want to validate anything nor upload it to anywhere.
GoReleaser supports this with the <code>--snapshot</code> flag
and also with the <code>snapshot</code> customization section:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
snapshot:
  <span style="color:#6272a4"># Allows you to change the name of the generated snapshot</span>
  <span style="color:#6272a4"># Default is `SNAPSHOT-{{.Commit}}`.</span>
  name_template: SNAPSHOT-{{.Commit}}</code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

		</div>
	
		<div class="Page" id="NFPM">
			<h1><a href="https://goreleaser.com/nfpm/">NFPM</a></h1>
			<p>GoReleaser can be wired to <a href="https://github.com/goreleaser/nfpm">nfpm</a> to
generate and publish <code>.deb</code> and <code>.rpm</code> packages.</p>

<p>Available options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
nfpm:
  <span style="color:#6272a4"># You can change the name of the package.</span>
  <span style="color:#6272a4"># Default: `{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}`</span>
  name_template: <span style="color:#f1fa8c">&#34;{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}&#34;</span>

  <span style="color:#6272a4"># Replacements for GOOS and GOARCH in the package name.</span>
  <span style="color:#6272a4"># Keys should be valid GOOSs or GOARCHs.</span>
  <span style="color:#6272a4"># Values are the respective replacements.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  replacements:
    amd64: <span style="color:#bd93f9">64</span>-bit
    <span style="color:#bd93f9">386</span>: <span style="color:#bd93f9">32</span>-bit
    darwin: macOS
    linux: Tux

  <span style="color:#6272a4"># Your app&#39;s vendor.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  vendor: Drum Roll Inc.
  <span style="color:#6272a4"># Your app&#39;s homepage.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  homepage: https://example.com/

  <span style="color:#6272a4"># Your app&#39;s maintainer (probably you).</span>
  <span style="color:#6272a4"># Default is empty.</span>
  maintainer: Drummer &lt;drum-roll@example.com<span style="color:#f1fa8c">&gt;
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">  # Your app&#39;s description.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  description: Software to create fast and easy drum rolls.

  <span style="color:#6272a4"># Your app&#39;s license.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  license: Apache <span style="color:#bd93f9">2.0</span>

  <span style="color:#6272a4"># Formats to be generated.</span>
  formats:
    - deb
    - rpm

  <span style="color:#6272a4"># Packages your package depends on.</span>
  dependencies:
    - git
    - zsh

  <span style="color:#6272a4"># Packages your package recommends installing.</span>
  <span style="color:#6272a4"># For RPM packages rpmbuild &gt;= 4.13 is required</span>
  recommends:
    - bzr
    - gtk

  <span style="color:#6272a4"># Packages your package suggests installing.</span>
  <span style="color:#6272a4"># For RPM packages rpmbuild &gt;= 4.13 is required</span>
  suggests:
    - cvs
    - ksh

  <span style="color:#6272a4"># Packages that conflict with your package.</span>
  conflicts:
    - svn
    - bash

  <span style="color:#6272a4"># Override default /usr/local/bin destination for binaries</span>
  bindir: /usr/bin

  <span style="color:#6272a4"># Empty folders that should be created and managed by the packager</span>
  <span style="color:#6272a4"># implementation.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  empty_folders:
  - /var/log/foobar

  <span style="color:#6272a4"># Files or directories to add to your package (beyond the binary).</span>
  <span style="color:#6272a4"># Keys are source paths/globs to get the files from.</span>
  <span style="color:#6272a4"># Values are the destination locations of the files in the package.</span>
  files:
    <span style="color:#f1fa8c">&#34;scripts/etc/init.d/&#34;</span>: <span style="color:#f1fa8c">&#34;/etc/init.d&#34;</span>
    <span style="color:#f1fa8c">&#34;path/**/glob&#34;</span>: <span style="color:#f1fa8c">&#34;/var/foo/glob&#34;</span>

  <span style="color:#6272a4"># Config files to add to your package. They are about the same as</span>
  <span style="color:#6272a4"># the files keyword, except package managers treat them differently (while</span>
  <span style="color:#6272a4"># uninstalling, mostly).</span>
  <span style="color:#6272a4"># Keys are source paths/globs to get the files from.</span>
  <span style="color:#6272a4"># Values are the destination locations of the files in the package.</span>
  config_files:
    <span style="color:#f1fa8c">&#34;tmp/app_generated.conf&#34;</span>: <span style="color:#f1fa8c">&#34;/etc/app.conf&#34;</span>
    <span style="color:#f1fa8c">&#34;conf/*.conf&#34;</span>: <span style="color:#f1fa8c">&#34;/etc/foo/&#34;</span>

  <span style="color:#6272a4"># Scripts to execute during the installation of the package.</span>
  <span style="color:#6272a4"># Keys are the possible targets during the installation process</span>
  <span style="color:#6272a4"># Values are the paths to the scripts which will be executed</span>
  scripts:
    preinstall: <span style="color:#f1fa8c">&#34;scripts/preinstall.sh&#34;</span>
    postinstall: <span style="color:#f1fa8c">&#34;scripts/postinstall.sh&#34;</span>
    preremove: <span style="color:#f1fa8c">&#34;scripts/preremove.sh&#34;</span>
    postremove: <span style="color:#f1fa8c">&#34;scripts/postremove.sh&#34;</span>

  <span style="color:#6272a4"># Some attributes can be overrided per package format.</span>
  overrides:
    deb:
      conflicts:
        - subversion
      dependencies:
        - git
      suggests:
        - gitk
      recommends:
        - tig
      empty_folders:
      - /var/log/bar
    rpm:
      replacements:
        amd64: x86_64
      name_template: <span style="color:#f1fa8c">&#34;{{ .ProjectName }}-{{ .Version }}-{{ .Arch }}&#34;</span>
      files:
        <span style="color:#f1fa8c">&#34;tmp/man.gz&#34;</span>: <span style="color:#f1fa8c">&#34;/usr/share/man/man8/app.8.gz&#34;</span>
      config_files:
        <span style="color:#f1fa8c">&#34;tmp/app_generated.conf&#34;</span>: <span style="color:#f1fa8c">&#34;/etc/app-rpm.conf&#34;</span>
      scripts:
        preinstall: <span style="color:#f1fa8c">&#34;scripts/preinstall-rpm.sh&#34;</span></code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

<p>Note that GoReleaser will not install <code>rpmbuild</code> or any dependencies for you.
As for now, <code>rpmbuild</code> is recommended if you want to generate rpm packages.
You can install it with <code>apt-get install rpm</code> or <code>brew install rpm</code>.</p>

		</div>
	
		<div class="Page" id="Snapcraft">
			<h1><a href="https://goreleaser.com/snapcraft/">Snapcraft</a></h1>
			<p>GoReleaser can also generate <code>snap</code> packages.
<a href="http://snapcraft.io/">Snaps</a> are a new packaging format, that will let you
publish your project directly to the Ubuntu store.
From there it will be installable in all the
<a href="https://snapcraft.io/docs/core/install">supported Linux distros</a>, with
automatic and transactional updates.</p>

<p>You can read more about it in the <a href="https://snapcraft.io/docs/">snapcraft docs</a>.</p>

<p>Available options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
snapcraft:
  <span style="color:#6272a4"># You can change the name of the package.</span>
  <span style="color:#6272a4"># Default: `{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}`</span>
  name_template: <span style="color:#f1fa8c">&#34;{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}&#34;</span>

  <span style="color:#6272a4"># Replacements for GOOS and GOARCH in the package name.</span>
  <span style="color:#6272a4"># Keys should be valid GOOSs or GOARCHs.</span>
  <span style="color:#6272a4"># Values are the respective replacements.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  replacements:
    amd64: <span style="color:#bd93f9">64</span>-bit
    <span style="color:#bd93f9">386</span>: <span style="color:#bd93f9">32</span>-bit
    darwin: macOS
    linux: Tux

  <span style="color:#6272a4"># The name of the snap. This is optional.</span>
  <span style="color:#6272a4"># Default is project name.</span>
  name: drumroll

  <span style="color:#6272a4"># Single-line elevator pitch for your amazing snap.</span>
  <span style="color:#6272a4"># 79 char long at most.</span>
  summary: Software to create fast and easy drum rolls.

  <span style="color:#6272a4"># This the description of your snap. You have a paragraph or two to tell the</span>
  <span style="color:#6272a4"># most important story about your snap. Keep it under 100 words though,</span>
  <span style="color:#6272a4"># we live in tweetspace and your description wants to look good in the snap</span>
  <span style="color:#6272a4"># store.</span>
  description: <span style="color:#f1fa8c">|
</span><span style="color:#f1fa8c">    This is the best drum roll application out there.
</span><span style="color:#f1fa8c">    Install it and awe!</span>

  <span style="color:#6272a4"># A guardrail to prevent you from releasing a snap to all your users before</span>
  <span style="color:#6272a4"># it is ready.</span>
  <span style="color:#6272a4"># `devel` will let you release only to the `edge` and `beta` channels in the</span>
  <span style="color:#6272a4"># store. `stable` will let you release also to the `candidate` and `stable`</span>
  <span style="color:#6272a4"># channels. More info about channels here:</span>
  <span style="color:#6272a4"># https://snapcraft.io/docs/reference/channels</span>
  grade: stable

  <span style="color:#6272a4"># Snaps can be setup to follow three different confinement policies:</span>
  <span style="color:#6272a4"># `strict`, `devmode` and `classic`. A strict confinement where the snap</span>
  <span style="color:#6272a4"># can only read and write in its own namespace is recommended. Extra</span>
  <span style="color:#6272a4"># permissions for strict snaps can be declared as `plugs` for the app, which</span>
  <span style="color:#6272a4"># are explained later. More info about confinement here:</span>
  <span style="color:#6272a4"># https://snapcraft.io/docs/reference/confinement</span>
  confinement: strict

  <span style="color:#6272a4"># Each binary built by GoReleaser is an app inside the snap. In this section</span>
  <span style="color:#6272a4"># you can declare extra details for those binaries. It is optional.</span>
  apps:

    <span style="color:#6272a4"># The name of the app must be the same name as the binary built or the snapcraft name.</span>
    drumroll:

      <span style="color:#6272a4"># If your app requires extra permissions to work outside of its default</span>
      <span style="color:#6272a4"># confined space, declare them here.</span>
      <span style="color:#6272a4"># You can read the documentation about the available plugs and the</span>
      <span style="color:#6272a4"># things they allow:</span>
      <span style="color:#6272a4"># https://snapcraft.io/docs/reference/interfaces.</span>
      plugs: [<span style="color:#f1fa8c">&#34;home&#34;</span>, <span style="color:#f1fa8c">&#34;network&#34;</span>]

      <span style="color:#6272a4"># If you want your app to be autostarted and to always run in the</span>
      <span style="color:#6272a4"># background, you can make it a simple daemon.</span>
      daemon: simple

      <span style="color:#6272a4"># If you any to pass args to your binary, you can add them with the</span>
      <span style="color:#6272a4"># args option.</span>
      args: --foo</code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

<p>Note that GoReleaser will not install <code>snapcraft</code> nor any of its dependencies
for you.</p>

		</div>
	
		<div class="Page" id="Homebrew">
			<h1><a href="https://goreleaser.com/homebrew/">Homebrew</a></h1>
			<p>After releasing to GitHub, GoReleaser can generate and publish a <em>homebrew-tap</em>
recipe into a repository that you have access to.</p>

<p>The <code>brew</code> section specifies how the formula should be created.
You can check the
<a href="https://github.com/Homebrew/brew/blob/master/docs/How-to-Create-and-Maintain-a-Tap.md">Homebrew documentation</a>
and the
<a href="https://github.com/Homebrew/brew/blob/master/docs/Formula-Cookbook.md">formula cookbook</a>
for more details.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
brew:
  <span style="color:#6272a4"># Name template of the recipe</span>
  <span style="color:#6272a4"># Default to project name</span>
  name: myproject

  <span style="color:#6272a4"># Reporitory to push the tap to.</span>
  github:
    owner: user
    name: homebrew-tap

  <span style="color:#6272a4"># Template for the url.</span>
  <span style="color:#6272a4"># Default is &#34;https://github.com/&lt;repo_owner&gt;/&lt;repo_name&gt;/releases/download/{{ .Tag }}/{{ .ArtifactName }}&#34;</span>
  url_template: <span style="color:#f1fa8c">&#34;http://github.mycompany.com/foo/bar/releases/{{ .Tag }}/{{ .ArtifactName }}&#34;</span>

  <span style="color:#6272a4"># Allows you to set a custom download strategy.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  download_strategy: GitHubPrivateRepositoryReleaseDownloadStrategy

  <span style="color:#6272a4"># Git author used to commit to the repository.</span>
  <span style="color:#6272a4"># Defaults are shown.</span>
  commit_author:
    name: goreleaserbot
    email: goreleaser@carlosbecker.com

  <span style="color:#6272a4"># Folder inside the repository to put the formula.</span>
  <span style="color:#6272a4"># Default is the root folder.</span>
  folder: Formula

  <span style="color:#6272a4"># Caveats for the user of your binary.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  caveats: <span style="color:#f1fa8c">&#34;How to use this binary&#34;</span>

  <span style="color:#6272a4"># Your app&#39;s homepage.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  homepage: <span style="color:#f1fa8c">&#34;https://example.com/&#34;</span>

  <span style="color:#6272a4"># Your app&#39;s description.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  description: <span style="color:#f1fa8c">&#34;Software to create fast and easy drum rolls.&#34;</span>

  <span style="color:#6272a4"># Setting this will prevent goreleaser to actually try to commit the updated</span>
  <span style="color:#6272a4"># formula - instead, the formula file will be stored on the dist folder only,</span>
  <span style="color:#6272a4"># leaving the responsibility of publishing it to the user.</span>
  <span style="color:#6272a4"># Default is false.</span>
  skip_upload: <span style="color:#ff79c6">true</span>

  <span style="color:#6272a4"># Packages your package depends on.</span>
  dependencies:
    - git
    - zsh

  <span style="color:#6272a4"># Packages that conflict with your package.</span>
  conflicts:
    - svn
    - bash

  <span style="color:#6272a4"># Specify for packages that run as a service.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  plist: <span style="color:#f1fa8c">|
</span><span style="color:#f1fa8c">    &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
</span><span style="color:#f1fa8c">    ...</span>

  <span style="color:#6272a4"># So you can `brew test` your formula.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  test: <span style="color:#f1fa8c">|
</span><span style="color:#f1fa8c">    system &#34;#{bin}/program --version&#34;
</span><span style="color:#f1fa8c">    ...</span>

  <span style="color:#6272a4"># Custom install script for brew.</span>
  <span style="color:#6272a4"># Default is &#39;bin.install &#34;program&#34;&#39;.</span>
  install: <span style="color:#f1fa8c">|
</span><span style="color:#f1fa8c">    bin.install &#34;program&#34;
</span><span style="color:#f1fa8c">    ...</span></code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

<p>By defining the <code>brew</code> section, GoReleaser will take care of publishing the
Homebrew tap.
Assuming that the current tag is <code>v1.2.3</code>, the above configuration will generate a
<code>program.rb</code> formula in the <code>Formula</code> folder of <code>user/homebrew-tap</code> repository:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rb" data-lang="rb"><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Program</span> <span style="color:#ff79c6">&lt;</span> Formula
  desc <span style="color:#f1fa8c">&#34;How to use this binary&#34;</span>
  homepage <span style="color:#f1fa8c">&#34;https://github.com/user/repo&#34;</span>
  url <span style="color:#f1fa8c">&#34;https://github.com/user/repo/releases/download/v1.2.3/program_v1.2.3_macOs_64bit.zip&#34;</span>
  version <span style="color:#f1fa8c">&#34;v1.2.3&#34;</span>
  sha256 <span style="color:#f1fa8c">&#34;9ee30fc358fae8d248a2d7538957089885da321dca3f09e3296fe2058e7fff74&#34;</span>

  depends_on <span style="color:#f1fa8c">&#34;git&#34;</span>
  depends_on <span style="color:#f1fa8c">&#34;zsh&#34;</span>

  <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">install</span>
    bin<span style="color:#ff79c6">.</span>install <span style="color:#f1fa8c">&#34;program&#34;</span>
  <span style="color:#ff79c6">end</span>
<span style="color:#ff79c6">end</span></code></pre></div>
<p><strong>Important</strong>&ldquo;: Note that GoReleaser does not yet generate a valid
homebrew-core formula. The generated formulas are meant to be published as
<a href="https://docs.brew.sh/Taps.html">homebrew taps</a>, and in their current
form will not be accepted in any of the official homebrew repositories.</p>

		</div>
	
		<div class="Page" id="Scoop">
			<h1><a href="https://goreleaser.com/scoop/">Scoop</a></h1>
			<p>After releasing to GitHub, GoReleaser can generate and publish a
<em>Scoop App Manifest</em> into a repository that you have access to.</p>

<p>The <code>scoop</code> section specifies how the manifest should be created. See
the commented example bellow:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
scoop:
  <span style="color:#6272a4"># Template for the url.</span>
  <span style="color:#6272a4"># Default is &#34;https://github.com/&lt;repo_owner&gt;/&lt;repo_name&gt;/releases/download/{{ .Tag }}/{{ .ArtifactName }}&#34;</span>
  url_template: <span style="color:#f1fa8c">&#34;http://github.mycompany.com/foo/bar/releases/{{ .Tag }}/{{ .ArtifactName }}&#34;</span>

  <span style="color:#6272a4"># Repository to push the app manifest to.</span>
  bucket:
    owner: user
    name: scoop-bucket

  <span style="color:#6272a4"># Git author used to commit to the repository.</span>
  <span style="color:#6272a4"># Defaults are shown.</span>
  commit_author:
    name: goreleaserbot
    email: goreleaser@carlosbecker.com

  <span style="color:#6272a4"># Your app&#39;s homepage.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  homepage: <span style="color:#f1fa8c">&#34;https://example.com/&#34;</span>

  <span style="color:#6272a4"># Your app&#39;s description.</span>
  <span style="color:#6272a4"># Default is empty.</span>
  description: <span style="color:#f1fa8c">&#34;Software to create fast and easy drum rolls.&#34;</span>

  <span style="color:#6272a4"># Your app&#39;s license</span>
  <span style="color:#6272a4"># Default is empty.</span>
  license: MIT

  <span style="color:#6272a4"># Persist data between application updates</span>
  persist:
  - <span style="color:#f1fa8c">&#34;data&#34;</span>
  - <span style="color:#f1fa8c">&#34;config.toml&#34;</span></code></pre></div>
<p>By defining the <code>scoop</code> section, GoReleaser will take care of publishing the
Scoop app. Assuming that the project name is <code>drumroll</code> and the current tag is
<code>v1.2.3</code>, the above configuration will generate a <code>drumroll.json</code> manifest in
the root of the repository specified in the <code>bucket</code> section.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#ff79c6">&#34;version&#34;</span>: <span style="color:#f1fa8c">&#34;1.2.3&#34;</span>,
  <span style="color:#ff79c6">&#34;architecture&#34;</span>: {
    <span style="color:#ff79c6">&#34;64bit&#34;</span>: {
      <span style="color:#ff79c6">&#34;url&#34;</span>:
        <span style="color:#f1fa8c">&#34;https://github.com/user/drumroll/releases/download/1.2.3/drumroll_1.2.3_windows_amd64.tar.gz&#34;</span>,
      <span style="color:#ff79c6">&#34;bin&#34;</span>: <span style="color:#f1fa8c">&#34;drumroll.exe&#34;</span>
    },
    <span style="color:#ff79c6">&#34;32bit&#34;</span>: {
      <span style="color:#ff79c6">&#34;url&#34;</span>:
        <span style="color:#f1fa8c">&#34;https://github.com/user/drumroll/releases/download/1.2.3/drumroll_1.2.3_windows_386.tar.gz&#34;</span>,
      <span style="color:#ff79c6">&#34;bin&#34;</span>: <span style="color:#f1fa8c">&#34;drumroll.exe&#34;</span>
    }
  },
  <span style="color:#ff79c6">&#34;homepage&#34;</span>: <span style="color:#f1fa8c">&#34;https://example.com/&#34;</span>
}</code></pre></div>
<p>Your users can then install your app by doing:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">scoop bucket add app https://github.com/org/repo.git
scoop install app</code></pre></div>
<p>You can check the
<a href="https://github.com/lukesampson/scoop/wiki">Scoop documentation</a> for more
details.</p>

		</div>
	
		<div class="Page" id="Release">
			<h1><a href="https://goreleaser.com/release/">Release</a></h1>
			

<p>GoReleaser will create a GitHub release with the current tag, upload all
the artifacts and generate the changelog based on the new commits since the
previous tag.</p>

<p>Let&rsquo;s see what can be customized in the <code>release</code> section:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#6272a4"># .goreleaser.yml</span>
release:
  <span style="color:#6272a4"># Repo in which the release will be created.</span>
  <span style="color:#6272a4"># Default is extracted from the origin remote URL.</span>
  github:
    owner: user
    name: repo

  <span style="color:#6272a4"># If set to true, will not auto-publish the release.</span>
  <span style="color:#6272a4"># Default is false.</span>
  draft: <span style="color:#ff79c6">true</span>

  <span style="color:#6272a4"># If set to true, will mark the release as not ready for production.</span>
  <span style="color:#6272a4"># Default is false.</span>
  prerelease: <span style="color:#ff79c6">true</span>

  <span style="color:#6272a4"># You can change the name of the GitHub release.</span>
  <span style="color:#6272a4"># Default is ``</span>
  name_template: <span style="color:#f1fa8c">&#34;{{.ProjectName}}-v{{.Version}} {{.Env.USER}}&#34;</span>

  <span style="color:#6272a4"># You can disable this pipe in order to not upload any artifacts to</span>
  <span style="color:#6272a4"># GitHub.</span>
  <span style="color:#6272a4"># Defaults to false.</span>
  disable: <span style="color:#ff79c6">true</span></code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

<h2 id="customize-the-changelog">Customize the changelog</h2>

<p>You can customize how the changelog is generated using the
<code>changelog</code> section in the config file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># .goreleaser.yml</span>
changelog:
  filters:
    <span style="color:#6272a4"># commit messages matching the regexp listed here will be removed from</span>
    <span style="color:#6272a4"># the changelog</span>
    <span style="color:#6272a4"># Default is empty</span>
    exclude:
      - <span style="color:#f1fa8c">&#39;^docs:&#39;</span>
      - typo
      - (?i)foo
    <span style="color:#6272a4"># could either be asc, desc or empty</span>
    <span style="color:#6272a4"># Default is empty</span>
    sort: asc</code></pre></div>
<h2 id="custom-release-notes">Custom release notes</h2>

<p>You can specify a file containing your custom release notes, and
pass it with the <code>--release-notes=FILE</code> flag.
GoReleaser will then skip its own release notes generation,
using the contents of your file instead.
You can use Markdown to format the contents of your file.</p>

<p>On Unix systems you can also generate the release notes in-line by using
<a href="https://en.wikipedia.org/wiki/Process_substitution">process substitution</a>.
To list all commits since the last tag, but skip ones starting with <code>Merge</code> or
<code>docs</code>, you could run this command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ goreleaser --release-notes &lt;(some_changelog_generator)</code></pre></div>
<p>Some changelog generators you can use:</p>

<ul>
<li><a href="https://github.com/buchanae/github-release-notes">buchanae/github-release-notes</a></li>
</ul>

		</div>
	
		<div class="Page" id="S3">
			<h1><a href="https://goreleaser.com/s3/">S3</a></h1>
			

<p>Since <a href="https://github.com/goreleaser/goreleaser/releases/tag/v0.74.0">v0.74.0</a>,
GoReleaser supports pushing artifacts to Amazon S3 and other API-compatible
block storages (<a href="https://www.minio.io">minio</a> for example).</p>

<p>Right now, the implementation is quite simple and probably won&rsquo;t cover all
use cases. If you need one of such use cases, please open an issue/pull request.</p>

<h2 id="customization">Customization</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># .goreleaser.yml</span>
s3:
  <span style="color:#6272a4"># You can have multiple s3 configs</span>
  -
    <span style="color:#6272a4"># Bucket name (without the s3:// prefix)</span>
    <span style="color:#6272a4"># Default is empty.</span>
    bucket: my-bucket
    <span style="color:#6272a4"># AWS Region to use.</span>
    <span style="color:#6272a4"># Defaults is us-east-1</span>
    region: us-east-<span style="color:#bd93f9">1</span>
    <span style="color:#6272a4"># Template for the path/name inside the bucket.</span>
    <span style="color:#6272a4"># Default is `{{ .ProjectName }}/{{ .Tag }}`</span>
    folder: <span style="color:#f1fa8c">&#34;foo/bar/{{.Version}}&#34;</span>
    <span style="color:#6272a4"># Set a custom profile to use for this s3 config. If you have multiple</span>
    <span style="color:#6272a4"># profiles setup in you ~/.aws config, this shall help defining which</span>
    <span style="color:#6272a4"># profile to use in which s3 bucket.</span>
    <span style="color:#6272a4"># Default is empty.</span>
    profile: my-profile
    <span style="color:#6272a4"># Endpoint allows you to set a custom endpoint, which is useful if you</span>
    <span style="color:#6272a4"># want to push your artifacts to a minio server for example.</span>
    <span style="color:#6272a4"># Default is AWS S3 URL.</span>
    endpoint: <span style="color:#f1fa8c">&#34;http://minio.foo.com&#34;</span>
    <span style="color:#6272a4"># Sets the ACL of the object using the specified canned ACL.</span>
    <span style="color:#6272a4"># Default is private.</span>
    acl: public-read</code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.
Learn more about the <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPUTacl.html">acl</a>.</p>
</blockquote>

<h2 id="authentication">Authentication</h2>

<p>GoReleaser will authenticate using the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html">same methods defined by aws-cli</a>.
You can read the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html">docs</a> to find out more about it.</p>

<p>Currently it supports authentication with:</p>

<ul>
<li><p>A <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/#EnvProvider">EnvProvider</a> which retrieves credentials from the environment variables of the
running process. Environment credentials never expire.
Environment variables used:</p>

<ul>
<li><p>Access Key ID:     AWS_ACCESS_KEY_ID or AWS_ACCESS_KEY</p></li>

<li><p>Secret Access Key: AWS_SECRET_ACCESS_KEY or AWS_SECRET_KEY</p></li>
</ul></li>

<li><p>A <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/#SharedCredentialsProvider">SharedCredentialsProvider</a> which retrieves credentials from the current user&rsquo;s home
directory, and keeps track if those credentials are expired.</p></li>
</ul>

<p>Profile ini file example: $HOME/.aws/credentials</p>

<ul>
<li>A AssumeRoleTokenProvider with enabled SharedConfigState which uses MFA prompting for token code on stdin.
Go to <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/session/">session doc</a> for more details.</li>
</ul>

<p>You can also set different profile names for each S3 config, so you may be able
to push to buckets in different accounts, for example.</p>

		</div>
	
		<div class="Page" id="Artifactory">
			<h1><a href="https://goreleaser.com/artifactory/">Artifactory</a></h1>
			

<p>Since <a href="https://github.com/goreleaser/goreleaser/releases/tag/v0.38.0">v0.38.0</a>,
GoReleaser supports building and pushing artifacts into Artifactory.</p>

<h2 id="how-it-works">How it works</h2>

<p>You can declare multiple Artifactory instances.
All binaries generated by your <code>builds</code> section will be pushed to
each configured Artifactory.</p>

<p>If you have only one Artifactory instance,
the configuration is as easy as adding the
upload target and a username to your <code>.goreleaser.yml</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">artifactories:
  - name: production
    target: http://&lt;Your-Instance&gt;:<span style="color:#bd93f9">8081</span>/artifactory/example-repo-local/{{ .ProjectName }}/{{ .Version }}/
    username: goreleaser</code></pre></div>
<p>Prerequisites:</p>

<ul>
<li>A running Artifactory instances</li>
<li>A user + password / API key with grants to upload an artifact</li>
</ul>

<h3 id="target">Target</h3>

<p>The <code>target</code> is the URL to upload the artifacts to (<em>without</em> the name of the artifact).</p>

<p>An example configuration for <code>goreleaser</code> in upload mode <code>binary</code> with the target can look like</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- mode: binary
  target: <span style="color:#f1fa8c">&#39;http://artifacts.company.com:8081/artifactory/example-repo-local/{{ .ProjectName }}/{{ .Version }}/{{ .Os }}/{{ .Arch }}{{ if .Arm }}{{ .Arm }}{{ end }}&#39;</span></code></pre></div>
<p>and will result in a final deployment like <code>http://artifacts.company.com:8081/artifactory/example-repo-local/goreleaser/1.0.0/Darwin/x86_64/goreleaser</code>.</p>

<p>Supported variables:</p>

<ul>
<li>Version</li>
<li>Tag</li>
<li>ProjectName</li>
<li>Os</li>
<li>Arch</li>
<li>Arm</li>
</ul>

<p><em>Attention</em>: Variables <em>Os</em>, <em>Arch</em> and <em>Arm</em> are only supported in upload
mode <code>binary</code>.</p>

<h3 id="username">Username</h3>

<p>Your configured username needs to be authenticated against your Artifactory.</p>

<p>You can have the username set in the configuration file as shown above
or you can have it read from an environment variable.
The configured name of your Artifactory instance will be used to build
the environment variable name.
This way we support auth for multiple instances.
This also means that the <code>name</code> per configured instance needs to be unique
per goreleaser configuration.</p>

<p>The name of the environment variable will be <code>ARTIFACTORY_NAME_USERNAME</code>.
If your instance is named <code>production</code>, you can store the username in the
environment variable <code>ARTIFACTORY_PRODUCTION_USERNAME</code>.
The name will be transformed to uppercase.</p>

<p>If a configured username is found in the configuration file, then the
environment variable is not used at all.</p>

<h3 id="password-api-key">Password / API Key</h3>

<p>The password or API key will be stored in a environment variable.
The configured name of your Artifactory instance will be used.
With this way we support auth for multiple instances.
This also means that the <code>name</code> per configured instance needs to be unique
per goreleaser configuration.</p>

<p>The name of the environment variable will be <code>ARTIFACTORY_NAME_SECRET</code>.
If your instance is named <code>production</code>, you need to store the secret in the
environment variable <code>ARTIFACTORY_PRODUCTION_SECRET</code>.
The name will be transformed to uppercase.</p>

<h2 id="customization">Customization</h2>

<p>Of course, you can customize a lot of things:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># .goreleaser.yml</span>
artifactories:
  <span style="color:#6272a4"># You can have multiple Artifactory instances.</span>
  -
    <span style="color:#6272a4"># Unique name of your artifactory instance. Used to identify the instance</span>
    name: production
    <span style="color:#6272a4"># Upload mode. Valid options are `binary` and `archive`.</span>
    <span style="color:#6272a4"># If mode is `archive`, variables _Os_, _Arch_ and _Arm_ for target name are not supported.</span>
    <span style="color:#6272a4"># In that case these variables are empty.</span>
    <span style="color:#6272a4"># Default is `archive`.</span>
    mode: archive
    <span style="color:#6272a4"># URL of your Artifactory instance + path to deploy to</span>
    target: http://artifacts.company.com:<span style="color:#bd93f9">8081</span>/artifactory/example-repo-local/{{ .ProjectName }}/{{ .Version }}/
    <span style="color:#6272a4"># User that will be used for the deployment</span>
    username: deployuser
    <span style="color:#6272a4"># Upload checksums (defaults to false)</span>
    checksum: <span style="color:#ff79c6">true</span>
    <span style="color:#6272a4"># Upload signatures (defaults to false)</span>
    signature: <span style="color:#ff79c6">true</span></code></pre></div>
<p>These settings should allow you to push your artifacts into multiple Artifactories.</p>

		</div>
	
		<div class="Page" id="HTTP Put">
			<h1><a href="https://goreleaser.com/put/">HTTP Put</a></h1>
			

<p>Since <a href="https://github.com/goreleaser/goreleaser/releases/tag/vX.Y.Z">vX.Y.Z</a>,
GoReleaser supports building and pushing artifacts to HTTP servers using simple HTTP PUT requests.</p>

<h2 id="how-it-works">How it works</h2>

<p>You can declare multiple Put instances.
All binaries generated by your <code>builds</code> section will be pushed to each configured Put.</p>

<p>If you have only one Put instance, the configuration is as easy as adding the
upload target and a username to your <code>.goreleaser.yml</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">puts:
  - name: production
    target: http://some.server/some/path/example-repo-local/{{ .ProjectName }}/{{ .Version }}/
    username: goreleaser</code></pre></div>
<p>Prerequisites:</p>

<ul>
<li>An HTTP server accepting PUT requests</li>
<li>A user + password with grants to upload an artifact using PUT requests (if the server requires it)</li>
</ul>

<h3 id="target">Target</h3>

<p>The <code>target</code> is the URL to upload the artifacts to (<em>without</em> the name of the artifact).</p>

<p>An example configuration for <code>goreleaser</code> in upload mode <code>binary</code> with the target can look like</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- mode: binary
  target: <span style="color:#f1fa8c">&#39;http://some.server/some/path/example-repo-local/{{ .ProjectName }}/{{ .Version }}/{{ .Os }}/{{ .Arch }}{{ if .Arm }}{{ .Arm }}{{ end }}&#39;</span></code></pre></div>
<p>and will result in an HTTP PUT request sent to <code>http://some.server/some/path/example-repo-local/goreleaser/1.0.0/Darwin/x86_64/goreleaser</code>.</p>

<p>Supported variables:</p>

<ul>
<li>Version</li>
<li>Tag</li>
<li>ProjectName</li>
<li>Os</li>
<li>Arch</li>
<li>Arm</li>
</ul>

<p><em>Attention</em>: Variables <em>Os</em>, <em>Arch</em> and <em>Arm</em> are only supported in upload mode <code>binary</code>.</p>

<h3 id="username">Username</h3>

<p>Your configured username needs to be valid against your HTTP server.</p>

<p>You can have the username set in the configuration file as shown above
or you can have it read from and environment variable.
The configured name of your HTTP server will be used to build the environment
variable name.
This way we support auth for multiple instances.
This also means that the <code>name</code> per configured instance needs to be unique
per goreleaser configuration.</p>

<p>The name of the environment variable will be <code>PUT_NAME_USERNAME</code>.
If your instance is named <code>production</code>, you can store the username in the
environment variable <code>PUT_PRODUCTION_USERNAME</code>.
The name will be transformed to uppercase.</p>

<p>If a configured username is found in the configuration file, then the
environment variable is not used at all.</p>

<h3 id="password">Password</h3>

<p>The password will be stored in a environment variable.
The configured name of your HTTP server will be used.
This way we support auth for multiple instances.
This also means that the <code>name</code> per configured instance needs to be unique
per goreleaser configuration.</p>

<p>The name of the environment variable will be <code>PUT_NAME_SECRET</code>.
If your instance is named <code>production</code>, you need to store the secret in the
environment variable <code>PUT_PRODUCTION_SECRET</code>.
The name will be transformed to uppercase.</p>

<h2 id="customization">Customization</h2>

<p>Of course, you can customize a lot of things:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># .goreleaser.yml</span>
puts:
  <span style="color:#6272a4"># You can have multiple Put instances.</span>
  -
    <span style="color:#6272a4"># Unique name of your Put instance. Used to identify the instance.</span>
    name: production
    <span style="color:#6272a4"># Upload mode. Valid options are `binary` and `archive`.</span>
    <span style="color:#6272a4"># If mode is `archive`, variables _Os_, _Arch_ and _Arm_ for target name are not supported.</span>
    <span style="color:#6272a4"># In that case these variables are empty.</span>
    <span style="color:#6272a4"># Default is `archive`.</span>
    mode: archive
    <span style="color:#6272a4"># URL to be used as target of the HTTP PUT request</span>
    target: http://some.server/some/path/example-repo-local/{{ .ProjectName }}/{{ .Version }}/
    <span style="color:#6272a4"># User that will be used for the deployment</span>
    username: deployuser
    <span style="color:#6272a4"># Upload checksums (defaults to false)</span>
    checksum: <span style="color:#ff79c6">true</span>
    <span style="color:#6272a4"># Upload signatures (defaults to false)</span>
    signature: <span style="color:#ff79c6">true</span></code></pre></div>
<p>These settings should allow you to push your artifacts into multiple HTTP servers.</p>

		</div>
	
		<div class="Page" id="Docker">
			<h1><a href="https://goreleaser.com/docker/">Docker</a></h1>
			

<p>Since <a href="https://github.com/goreleaser/goreleaser/releases/tag/v0.31.0">v0.31.0</a>,
GoReleaser supports building and pushing Docker images.</p>

<h2 id="how-it-works">How it works</h2>

<p>You can declare multiple Docker images. They will be matched against
the binaries generated by your <code>builds</code> section.</p>

<p>If you have only one <code>build</code> setup,
the configuration is as easy as adding the
name of your image to your <code>.goreleaser.yml</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">dockers:
  - image: user/repo</code></pre></div>
<p>You also need to create a <code>Dockerfile</code> in your project&rsquo;s root folder:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dockerfile" data-lang="dockerfile"><span style="color:#ff79c6">FROM</span><span style="color:#f1fa8c"> scratch</span>
COPY mybin /
<span style="color:#ff79c6">ENTRYPOINT</span><span style="color:#f1fa8c"> [&#34;/mybin&#34;]</span></code></pre></div>
<p>This configuration will build and push a Docker image named <code>user/repo:tagname</code>.</p>

<blockquote>
<p><strong>Attention</strong>: Note that were are not building any go files in the docker
build phase, we are merely copying the binary to a <code>scratch</code> image and
setting up the entrypoint.</p>
</blockquote>

<h2 id="customization">Customization</h2>

<p>Of course, you can customize a lot of things:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># .goreleaser.yml</span>
dockers:
  <span style="color:#6272a4"># You can have multiple Docker images.</span>
  -
    <span style="color:#6272a4"># GOOS of the built binary that should be used.</span>
    goos: linux
    <span style="color:#6272a4"># GOARCH of the built binary that should be used.</span>
    goarch: amd64
    <span style="color:#6272a4"># GOARM of the built binary that should be used.</span>
    goarm: <span style="color:#f1fa8c">&#39;&#39;</span>
    <span style="color:#6272a4"># Name of the built binary that should be used.</span>
    binary: mybinary
    <span style="color:#6272a4"># Docker image name.</span>
    image: myuser/myimage
    <span style="color:#6272a4"># Skips the docker push. Could be useful if you also do draft releases.</span>
    <span style="color:#6272a4"># Defaults to false.</span>
    skip_push: <span style="color:#ff79c6">false</span>
    <span style="color:#6272a4"># Path to the Dockerfile (from the project root).</span>
    dockerfile: Dockerfile
    <span style="color:#6272a4"># Template of the docker tag. Defaults to `{{ .Version }}`.</span>
    tag_templates:
    - <span style="color:#f1fa8c">&#34;{{ .Tag }}&#34;</span>
    - <span style="color:#f1fa8c">&#34;{{ .Tag }}-{{ .Env.GO_VERSION }}&#34;</span>
    - <span style="color:#f1fa8c">&#34;v{{ .Major }}&#34;</span>
    - latest
    <span style="color:#6272a4"># If your Dockerfile copies files other than the binary itself,</span>
    <span style="color:#6272a4"># you should list them here as well.</span>
    extra_files:
    - config.yml</code></pre></div>
<blockquote>
<p>Learn more about the <a href="/templates">name template engine</a>.</p>
</blockquote>

<p>These settings should allow you to generate multiple Docker images,
for example, using multiple <code>FROM</code> statements,
as well as generate one image for each binary in your project.</p>

<h2 id="keeping-docker-images-updated-for-current-major">Keeping docker images updated for current major</h2>

<p>Some users might want to when version to push docker tags <code>:v1</code>, <code>:v1.6</code>,
<code>:v1.6.4</code> and <code>:latest</code> when <code>v1.6.4</code> (for example) is built. That can be
accomplished by using multiple <code>tag_templates</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#6272a4"># .goreleaser.yml</span>
dockers:
  -
    binary: mybinary
    image: myuser/myimage
    tag_templates:
    - <span style="color:#f1fa8c">&#34;{{ .Tag }}&#34;</span>
    - <span style="color:#f1fa8c">&#34;v{{ .Major }}&#34;</span>
    - <span style="color:#f1fa8c">&#34;v{{ .Major }}.{{ .Minor }}&#34;</span>
    - latest</code></pre></div>
<p>This will build and publish the following images:</p>

<ul>
<li><code>myuser/myimage:v1.6.4</code></li>
<li><code>myuser/myimage:v1</code></li>
<li><code>myuser/myimage:v1.6</code></li>
<li><code>myuser/myimage:latest</code></li>
</ul>

<p>With these settings you can hopefully push several different docker images
with multiple tags.</p>

		</div>
	

						<div class="Footer">
	<p>Made with ❤️ by GoReleaser contributors.</p>
</div>
<script src="https://goreleaser.com/js/index.js"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-106198408-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

					</div>
				</div>
		</div>
	</body>
</html>
